\usepackage[margin=1in,a4paper]{geometry}
\usepackage{siunitx}
\usepackage{physics}
\AtBeginDocument{\RenewCommandCopy\qty\SI}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{cancel}
\usepackage{enumitem}
\usepackage{listings}
\usepackage[T1]{fontenc}    % use 8-bit T1 fonts
\usepackage{url}            % simple URL typesetting
\usepackage{booktabs}       % professional-quality tables
\usepackage{amsfonts}       % blackboard math symbols
\usepackage{nicefrac}       % compact symbols for 1/2, etc.
\usepackage{microtype}      % microtypography
\setlength{\parskip}{\baselineskip}%
\usepackage[breakable,many]{tcolorbox}
% Math
\usepackage{amsmath, amsthm, amssymb}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\algblockdefx[Foreach]{Foreach}{EndForeach}[1]{\textbf{for each} #1 \textbf{do}}{\textbf{end for}}
\makeatletter
\ifthenelse{\equal{\ALG@noend}{t}}{\algtext*{EndForeach}}{}
\makeatother
\usepackage[inline]{asymptote}
\usepackage{xcolor}

\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\id}{\mathrm{id}}
\newcommand{\inv}{^{-1}}

\usepackage{bbm}

% Allows for hyperlinking
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=magenta,
}

\usepackage{pgfplots}
\usepackage{tikz}
\usepackage[american]{circuitikz}
\pgfplotsset{compat=1.18}
\setlength{\parindent}{0cm}
\AtBeginDocument{\RenewCommandCopy\qty\SI}
\usepackage{titlesec}
\usepackage{fancyhdr}
\pagestyle{fancy}
\titleformat{\section}
  {\large\scshape}{\thesection}{1em}{}
\titleformat{\subsection}
  {\normalfont\scshape}{\thesubsection}{1em}{}
\titleformat{\subsubsection}
  {\normalfont\scshape}{\thesubsubsection}{1em}{}
\pagenumbering{arabic}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%% COLORS %%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\definecolor{my-blue}{RGB}{93,169,255}
\definecolor{my-pink}{RGB}{238,118,116}
\definecolor{my-green}{RGB}{0,191,0}
\definecolor{my-orange}{HTML}{C78058}
\definecolor{background}{HTML}{f2f2f2}
\definecolor{my-yellow}{HTML}{F6BD60}
\definecolor{my-blue2}{RGB}{93,169,199}
\definecolor{my-blue3}{RGB}{169,199,240}
\definecolor{my-blue4}{RGB}{69,201,199}


% bluebf
\newcommand{\bluebf}[1]{\textcolor{blue}{\textbf{#1}}}
%redbf
\newcommand{\redbf}[1]{\textcolor{red}{\textbf{#1}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%% Style Definitions %%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\tcbset{simple/.style={
    breakable,
    enhanced,
    outer arc=0pt,
    arc = 0pt,
    colback=background, % Background color
    colframe=background, % Border Color
    coltitle=black, % Title Color
    fonttitle=\bfseries,
    attach title to upper,
    after title={:\ },
    segmentation style={dashed, gray},
    }
}

\tcbset{color-labeled/.style={
  breakable,
  enhanced,
  outer arc=0pt,
  arc=0pt,
  colframe=my-orange,
  colback=my-orange!5,
  attach title to upper,
  coltitle=my-orange!200,
  after title={\medbreak},
  }
}

\tcbset{one-sided-color/.style={
    breakable,
    enhanced,
    boxrule=0pt,
    frame hidden,
    borderline west={2pt}{0pt}{#1},
    colback=#1!10,
    coltitle=#1!200,
    after title={:\ },
    sharp corners,
    attach title to upper,
    }
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%   Box Definitions %%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newtcolorbox[auto counter]{example}[1][]{
  color-labeled=my-orange,
  title=\textbf{Example \thetcbcounter \ ({#1})},
}

\newtcolorbox[auto counter]{custom-big}[1][]{
  color-labeled=my-yellow,
  title=\textbf{{#1}},
}

\newtcolorbox{definition}[1][]{
    one-sided-color=my-green,
    title=\textbf{Definition--{#1}},
}

\newtcolorbox{theorem}[1][]{
    one-sided-color=my-blue,
    title=\textbf{Theorem--{#1}},
}

\newtcolorbox{proposition}{
    one-sided-color=my-blue2,
    title=\textbf{Proposition},
}

\newtcolorbox{corollary}{
    one-sided-color=my-blue4,
    title=\textbf{Corollary},
}

\newtcolorbox[auto counter]{lemma}{
    one-sided-color=my-blue3,
    title=\textbf{Lemma  \thetcbcounter},
}

\newtcolorbox{prooof}{
    one-sided-color=gray,
    title=\textbf{Proof},
}

\newtcolorbox{derivation}{
    one-sided-color=pink,
    title=\textbf{Derivation},
}

\newtcolorbox{custom-small}[1][]{
    one-sided-color=my-yellow,
    title=\textbf{{#1}},
}

\newtcolorbox[auto counter]{custom-simple}[1][]{
    simple,
    title={#1},
    % add a `\thetcbcounter` to the end if you want to keep track of numberings.
}

\newtcolorbox[auto counter]{sol}[1][]{
    simple,
    title={Solution \thetcbcounter \ ({#1})},
}